<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Moip : This is a package of a payment intermediary called MOIP">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Moip</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/SOSTheBlack/moip">View on GitHub</a>

          <h1 id="project_title">Moip</h1>
          <h2 id="project_tagline">This is a package of a payment intermediary called MOIP</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/SOSTheBlack/moip/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/SOSTheBlack/moip/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a name="moip-laravel-package" class="anchor" href="#moip-laravel-package"><span class="octicon octicon-link"></span></a>MoIP (Laravel Package)</h1>

<hr>

<p><a href="https://packagist.org/packages/sostheblack/moip"><img src="https://poser.pugx.org/sostheblack/moip/v/stable.svg" alt="Latest Stable Version"></a> <a href="https://packagist.org/packages/sostheblack/moip"><img src="https://poser.pugx.org/sostheblack/moip/downloads.svg" alt="Total Downloads"></a> <a href="https://packagist.org/packages/sostheblack/moip"><img src="https://poser.pugx.org/sostheblack/moip/v/unstable.svg" alt="Latest Unstable Version"></a> <a href="https://packagist.org/packages/sostheblack/moip"><img src="https://poser.pugx.org/sostheblack/moip/license.svg" alt="License"></a></p>

<p>Integrates via API, your e-commerce with MoIP quickly and easily</p>

<ul>
<li><code>Moip::sendMoip($data);</code></li>
<li>
<code>Moip::response</code>;</li>
</ul>

<p>and response</p>

<ul>
<li><code>$moip-&gt;error</code></li>
<li><code>$moip-&gt;response</code></li>
<li><code>$moip-&gt;token</code></li>
<li><code>$moip-&gt;payment_url</code></li>
<li><code>$moip-&gt;xmlSend</code></li>
<li><code>$moip-&gt;xmlGet</code></li>
<li><code>Moip::response()</code></li>
</ul>

<h2>
<a name="instalation" class="anchor" href="#instalation"><span class="octicon octicon-link"></span></a>Instalation</h2>

<h3>
<a name="laravel-42-and-blow" class="anchor" href="#laravel-42-and-blow"><span class="octicon octicon-link"></span></a>Laravel 4.2 and Blow</h3>

<p>Begin by installing this package through Composer. Edit your project's <code>composer.json</code> file to require <code>sostheblack/moip</code>.</p>

<p>soon in version v1.*</p>

<pre><code>"require-dev": {
    "sostheblack/moip": "1.*"
}
</code></pre>

<p>Next, update Composer from the Terminal:</p>

<p><code>$ composer update</code></p>

<p>Once that's been completed, the next step operation is to copy the file that is in moip.php <code>vendor/sostheblack/src/config/moip.php</code> and Paste in <code>app/config</code></p>

<p>Make the necessary settings and proceed to the next step</p>

<p>Once this operation completes, the final step is to add the service provider and facade. Open <code>app/config/app.php</code>.</p>

<p>Add a new item to the providers array.</p>

<pre><code>'providers' =&gt; array(
    'Illuminate\Foundation\Providers\ArtisanServiceProvider',
    'Illuminate\Auth\AuthServiceProvider',
    ...
    'SOSTheBlack\Moip\ServiceProvider',
),
</code></pre>

<p>Add a new item to the facades array.</p>

<pre><code>'aliases' =&gt; array(
    'App'        =&gt; 'Illuminate\Support\Facades\App',
    'Artisan'    =&gt; 'Illuminate\Support\Facades\Artisan',
    ...
    'Moip'       =&gt; 'SOSTheBlack\Moip\Facade',
),
</code></pre>

<h3>
<a name="laravel-5-and-abouve" class="anchor" href="#laravel-5-and-abouve"><span class="octicon octicon-link"></span></a>Laravel 5 and Abouve</h3>

<p>coming soon</p>

<h2>
<a name="usage" class="anchor" href="#usage"><span class="octicon octicon-link"></span></a>Usage</h2>

<h3>
<a name="simple" class="anchor" href="#simple"><span class="octicon octicon-link"></span></a>simple</h3>

<p>Sent only the total sale, is configured to send data in <code>app/config/moip.php</code></p>

<pre><code>$data = ['values' =&gt; ['value' =&gt; $full_price_products] ];
try {
    $moip = Moip::sendMoip($data);
} catch (Exception $e) {
    echo $e-&gt;getMessage();
}
</code></pre>

<h3>
<a name="advanced" class="anchor" href="#advanced"><span class="octicon octicon-link"></span></a>Advanced</h3>

<p>Fully customize the data sent!</p>

<pre><code>$data = [
    'unique_id' =&gt; 100000001,
    'reason'    =&gt; 'market of Natal 01',
    'receiver'  =&gt; 'integracao@moip.com.br',
    'parcel'    =&gt; [
        'min'       =&gt; 2, 
        'max'       =&gt; 12, 
        'rate'      =&gt; 1.5, 
        'transfer'  =&gt; true
    ],
    'values'    =&gt; [
        'value' =&gt; $full_price_products , 
        'adds'  =&gt; $freight, 
        'deduct'=&gt; $coupon
    ],
    'comission' =&gt; [
        'value'           =&gt; 7, 
        'reason'          =&gt; 'Taxa MoIP', 
        'ratePayer'       =&gt; true,
        'percentageValue' =&gt; true,
        'receiver'        =&gt; 'suporte@moip.com.br',
    ]
];
try {
    $moip = Moip::sendMoip($data);
} catch (Exception $e) {
    echo $e-&gt;getMessage();
}
</code></pre>

<h2>
<a name="sending-parameters" class="anchor" href="#sending-parameters"><span class="octicon octicon-link"></span></a>Sending parameters</h2>

<h4>
<a name="values" class="anchor" href="#values"><span class="octicon octicon-link"></span></a>values</h4>

<h5>
<a name="full_price_products-number-freight-number-coupon-number" class="anchor" href="#full_price_products-number-freight-number-coupon-number"><span class="octicon octicon-link"></span></a>$full_price_products: Number, $freight: Number, $coupon: Number</h5>

<ol>
<li>$full_price_products: Responsible for setting the value that should be paid.</li>
<li>$freigth: Responsible for defining the additional amount to be paid.</li>
<li>$deduct: Responsible for defining the value of discount will be subtracted from the total to be paid.</li>
</ol>

<pre><code>$data['values'] =&gt; [
    'value'     =&gt; $full_price_products,
    'adds'      =&gt; $freigth,
    'dedudct'   =&gt; $deduct
];
</code></pre>

<h4>
<a name="unique_id" class="anchor" href="#unique_id"><span class="octicon octicon-link"></span></a>unique_id</h4>

<h5>
<a name="id-string" class="anchor" href="#id-string"><span class="octicon octicon-link"></span></a>$id: String</h5>

<p>Its unique identifier request this same information will be sent to you on our notification of changes in status so that you can identify and treat your application status.</p>

<p><code>$data['unique_id'] = $id;</code></p>

<h4>
<a name="reason" class="anchor" href="#reason"><span class="octicon octicon-link"></span></a>reason</h4>

<h5>
<a name="value-string" class="anchor" href="#value-string"><span class="octicon octicon-link"></span></a>$value: String</h5>

<p>Responsible for defining the reason for the payment</p>

<p><code>$data['reason'] =&gt; $value;</code></p>

<h4>
<a name="receiver" class="anchor" href="#receiver"><span class="octicon octicon-link"></span></a>receiver</h4>

<h5>
<a name="receiver-string" class="anchor" href="#receiver-string"><span class="octicon octicon-link"></span></a>$receiver String</h5>

<p>Identifies the user who will receive payment in MoIP</p>

<p><code>$data['receiver'] = $receiver;</code></p>

<h4>
<a name="parcel" class="anchor" href="#parcel"><span class="octicon octicon-link"></span></a>parcel</h4>

<h5>
<a name="min-number-max-number-rate--number-transfer--boolean" class="anchor" href="#min-number-max-number-rate--number-transfer--boolean"><span class="octicon octicon-link"></span></a>$min: Number, $max: Number, $rate : Number, $transfer : Boolean</h5>

<p>Responsible for the installment which will be available to the paying options.</p>

<ol>
<li>$min : Minimum number of plots available to the paying.</li>
<li>$max : Maximum amount of shares available to the paying.</li>
<li>$rate : Amount of interest a.m per parcel.</li>
<li>$transfer : If <code>true</code> sets the default value of the interest will be paid by the paying MOIP.</li>
</ol>

<pre><code>$data['parcel'] =&gt; [
    'min'       =&gt; 2, 
    'max'       =&gt; 12, 
    'rate'      =&gt; 1.5, 
    'transfer'  =&gt; false
];
</code></pre>

<h4>
<a name="comission" class="anchor" href="#comission"><span class="octicon octicon-link"></span></a>comission</h4>

<h5>
<a name="reason-string-receiver-string-value-number-percentagevalue-boolean-ratepayer-boolean" class="anchor" href="#reason-string-receiver-string-value-number-percentagevalue-boolean-ratepayer-boolean"><span class="octicon octicon-link"></span></a>$reason: String, $receiver: String, $value: Number, $percentageValue: Boolean, $ratePayer: Boolean</h5>

<ol>
<li>$ reason: Reason / Motif to which the secondary recipient will receive the set value.</li>
<li>$ receiver: Login MOIP the User to receive the value.</li>
<li>$ value: Value which will be allocated to the secondary receiver.</li>
<li>$ percentageValue: If "true" sets that value will be calculated in relation to the percentage of
the total value of the transaction.</li>
<li>$ ratepayer: If "true" sets that secondary recipient will pay the MOIP with
value received.</li>
</ol>

<pre><code>$data['comission'] =&gt; [ 
    'value' =&gt; 7, 
    'reason' =&gt; 'Taxa MoIP', 
    'ratePayer' =&gt; true, 
    'percentageValue' =&gt; true, 
    'receiver' =&gt; 'suporte@moip.com.br'
];
</code></pre>

<h3>
<a name="data-response" class="anchor" href="#data-response"><span class="octicon octicon-link"></span></a>Data Response</h3>

<table>
<thead>
<tr>
<th>Method</th>
<th>Response</th>
</tr>
</thead>
<tbody>
<tr>
<td>$moip-&gt;error</td>
<td>false or error message</td>
</tr>
<tr>
<td>$moip-&gt;response</td>
<td>true or false</td>
</tr>
<tr>
<td>$moip-&gt;token</td>
<td>token request</td>
</tr>
<tr>
<td>$moip-&gt;payment_url</td>
<td>payment url</td>
</tr>
<tr>
<td>$moip-&gt;xmlSend</td>
<td>xml sent</td>
</tr>
<tr>
<td>$moip-&gt;xmlGet</td>
<td>xml reponse</td>
</tr>
<tr>
<td>Moip::response()</td>
<td>object equal to all previous methods</td>
</tr>
</tbody>
</table>

<h3>
<a name="license" class="anchor" href="#license"><span class="octicon octicon-link"></span></a>License</h3>

<p>The MoIP pakacge is open-sourced software licensed under the <a href="http://opensource.org/licenses/MIT">MIT license</a></p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Moip maintained by <a href="https://github.com/SOSTheBlack">SOSTheBlack</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-56323206-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>


  </body>
</html>
